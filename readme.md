# TDD Practice VendingMachine

본 repository는 지난 2019년 여름 ruby로 진행했었던 TDD 스터디에서 마저 완성하지 못했던 vending machine 프로젝트를 typescript로 구현하기 위한 repository 입니다. 



## 프로젝트 개요

책 <TDD 실천법과 도구>의 10장 - 실습 예제인 자동판매기를 TDD로 구현하는 개인 프로젝트이다.  

- 사용 스택 : typescript, mocha, chai

  - 왜 jest가 아닌가? [링크](https://libsora.so/posts/escape-from-jest-jest-is-slow/)
  - 타입스크립트 + mocha 예시 [링크1](http://cosmiclatte.co.kr/타입스크립트typescript-테스트하기-with-mocha/) [링크2](https://libsora.so/posts/escape-from-jest-mocha-with-typescript/) [링크3](https://dc7303.github.io/typescript/test/mocha/2020/02/16/tsTestByMocha/)

- 왜 모카와 차이를 함께 써야 하는가? (후술 예정)

  


## 프로젝트 설명

- 발제

  > 음료 자판기에 탑재될 거스름돈 반환 모듈 개발 업무를 맡게 됐다. p.459



- 업무 시나리오 정리

  > 돈을 넣는다. (사람) 
  >
  > → 투입한 금액이 표시된다. (하드웨어 + 소프트웨어) 
  >
  > → 투입한 금액 내에서 선택 가능한 음료가 있다면 해당 버튼에 불이 들어온다. (하드 웨어) 
  >
  > → 음료를 선택한다. (사람) 
  >
  > → 음료가 나온다. (하드웨어) 
  >
  > → 투입금액 표시화면에는 선택한 음료 가격만큼 제외된 가격이 표시된다. (하드웨어 + 소프트웨어) 
  >
  > → 만일 표시된 남은 금액이 다른 음료를 선택할 수 있는 금액 이하이면 바로 잔돈으로 반환한다. (소프트웨어) 
  >
  > → 다른 음료를 선택할 수 있는 금액이 남아 있다면 최초 동전을 넣었을 때와 동일하게 동작한다. (소프트웨어)
  >
  > → 반환 버튼을 눌렀을 경우 상황에 관계없이 표시되어 있는 금액을 최소 잔돈으로 반환 한다. (일부 사람)



- 개발 가능 범위

  > - 투입한 금액이 표시된다. → 투입한 금액을 알 수 있다. 즉, 현재 잔액을 알 수 있다. 
  > - 투입금액 표시화면에는 선택한 음료 가격만큼 제외된 가격이 표시된다. → 현재 잔액 을 알 수 있다. 
  > - 만일 표시된 남은 금액이 다른 음료를 선택할 수 있는 금액 이하이면 바로 잔돈으로 반환한다. → 잔액이 최소음료가격 이하인지 여부를 확인한다.
  > - 다른 음료를 선택할 수 있는 금액이 남아 있다면 최초 동전을 넣었을 때와 동일하게 동작한다. (소프트웨어) 
  > - 표시되어 있는 금액을 최소 잔돈으로 반환한다.



## 프로젝트 구성

- 방법 후술 예정

